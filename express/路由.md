## 路由
路由是指如何定义应用的端点（URIs）以及如何响应客户端的请求。

路由是由一个 URI、HTTP 请求（GET、POST等）和若干个句柄组成，它的结构如下：
> app：express的实例
  METHOD：一个HTTP请求方法
  path：服务器上的路径
  callback：当路由匹配时执行的函数

    app.METHOD(path [, callback...], callback)
基本路由示例：

    var express = require('express');
    var app = express();

    app.get('/', (req, res) => res.send('Hello World'));
## 路由句柄
使用单个函数处理路由：

    app.get('/foo', (req, res) => res.send('Hello World'))
使用多个函数处理路由：

    app.get('/foo',
        (req, res, next) => next(),
        (req, res) => res.send('Hello World')
    )
使用函数数组处理路由：

    function foo(req, res, next) { next() }
    function bar(req, res) { res.send('Hello World') }
    app.get('/bar', [foo, bar])
混合使用函数和函数数组处理路由：

    function foo(req, res, next) { next() }
    function bar(req, res, next) { next() }
    app.get('/foo/bar',
        [foo, bar],
        (req, res) => res.send('Hello World')
    )
## 响应方法
下表中响应对象（res）的方法向客户端返回响应，终结请求响应的循环。如果在路由句柄中一个方法也不调用，来自客户端的请求会一直挂起。

方法              |   描述
----              |----
res.download()    |  提示下载文件
res.end()         |  终结响应处理流程
res.json()        |  发送一个JSON格式的响应
res.jsonp()       |  发送一个支持JSONP的JSON格式的响应
res.redirect()    |  重定向请求
res.render()      |  渲染视图模版
res.send()        |  发送各种类型的响应
res.sendFile()    |  以八位字节流的形式发送文件
res.sendStatus()  |  设置响应状态码，并将其以字符串形式作为响应实体的一部分发送
## app.route()
使用app.route()定义链式路由句柄：

    app.route('/book')
        .get((req, res) => res.send('Get a random book'))
        .post((req, res) => res.send('Add a book'))
        .put((req, res) => res.send('Update the book'));
## express.Router
可用express.Router类创建模块化、可挂载的路由句柄。Router实例是一个完整的中间件和路由系统。  
在app目录下创建router.js文件：

    var express = require('express);
    var router = express.Router();

    router.use((req, res, next) => {
        console.log(`Time: ${Date.now()}`);
        next();
    });

    router.get('/', (req, res) => res.send('Brids home page'));
    router.get('/about', (req, res) => res.send('About birds'));

    module.exports = router;
然后在应用中加载路由模块：

    var express = require('express');
    var app = express();
    var router = require('./router.js');
    ...
    app.use('/birds', router);