## 什么是操作系统

操作系统是软件中最基础的部分，运行在内核态。运行在裸机之上，为所有其他软件提供基础的运行环境。它的任务是为用户提供一种更好、更简单、更清晰的计算机模型，并管理所有硬件。

用户接口程序 shell、GUI（Graphical User Interface）处于用户态最底层。它们不属于操作系统的一部分，它们使用操作系统完成工作。

多数计算机有两种运行模式：内核态（管态，核心态） 和 用户态。

- 内核态：操作系统拥有对所有硬件的访问权，可以执行机器能够执行的任何指令。
- 用户态：软件的其余部分运行在用户态。只使用机器指令中的一个子集，禁止运行那些会影响机器的控制或可进行I/O操作的指令。

## 计算机硬件介绍

个人计算机模型可以抽象为：CPU、内存、I/O设备都由一条系统总线连接起来并通过总线与其他设备通信。

### 处理器

计算机的大脑是 CPU，它从内存中取出指令并执行。每个 CPU 都有一套专门的指令集。

寄存器：在 CPU 内部用来保存关键变量和临时数据的寄存器。因为访问内存以得到指令或数据的时间比执行指令的时间长得多。

### 存储器

理想情况下，存储器应该极为迅速（快于执行一条指令），充分大，便宜。

| 典型访问时间 | 存储器     | 典型的容量      |
|--------|---------|------------|
| 1ns    | 寄存器     | < 1KB      |
| 2ns    | 高速缓存    | 4MB        |
| 10ns   | 内存（RAM） | 512-2048MB |
| 10ms   | 磁盘      | 200-1000GB |
| 100s   | 磁带      | 400-800G   |

### I/O 设备

I/O 设备一般包含两个部分：设备控制器，设备本身。

## 操作系统概念

### 进程

进程本质上是一个正在执行的程序。

### 地址空间

与每个进程相关的是进程的地址空间，这是从某个最小值的存储位置到某个最大值存储位置的列表。

## 系统调用

功能：为用户程序提供抽象 和 管理计算机资源。